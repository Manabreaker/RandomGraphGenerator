# Random Graph Generator & Visualizer

## Описание

**Random Graph Generator & Visualizer** — это программа для генерации случайных графов с возможностью их визуализации и взаимодействия с ними. Она поддерживает как **направленные**, так и **ненаправленные** графы, с возможностью добавления **весов** как для рёбер, так и для вершин. Графы могут быть как **взвешенными**, так и **невзвешенными**.

Программа позволяет генерировать графы с произвольным числом вершин и рёбер в указанном диапазоне, отображая их на экране с учётом направления рёбер (для направленных графов) и веса рёбер/вершин. Визуализация включает стрелки для направленных рёбер, а также текстовые метки для весов рёбер и вершин.

Программа поддерживает **перетаскивание вершин** мышью для изменения их положения на экране.

---

## Структура проекта

Проект состоит из следующих файлов и директорий:

```
ProjectRoot/
├─ CMakeLists.txt              # Файл сборки проекта (CMake)
├─ DirectedGraph.cpp           # Реализация класса DirectedGraph
├─ DirectedGraph.h             # Заголовочный файл для DirectedGraph
├─ Graph.cpp                   # Реализация базового класса Graph
├─ Graph.h                     # Заголовочный файл для Graph
├─ main.cpp                    # Главный файл программы, точка входа
├─ README.md                   # Этот файл
├─ Resource.h                  # Ресурсный файл для ID
├─ resource.rc                 # Ресурсный файл для определения меню и диалогов
├─ UndirectedGraph.h           # Заголовочный файл для UndirectedGraph
├─ UndirectedGraph.cpp         # Реализация класса UndirectedGraph
├─ GraphVisualizer.cpp         # Реализация визуализатора графа
└─ GraphVisualizer.h           # Заголовочный файл для GraphVisualizer
```

---

## Зависимости

Проект использует **CMake** для сборки и **WinAPI** для визуализации графов. Для работы требуется **Windows** и компилятор, поддерживающий C++17.

**Зависимости:**
- **CMake** (для сборки проекта)
- **Windows API** (для отрисовки графов и интерфейса)

---

## Сборка

Для сборки проекта выполните следующие шаги:

1. **Установите CMake** (если он не установлен):
    - Скачать CMake можно с [официального сайта](https://cmake.org/download/).

2. **Клонируйте репозиторий** (если ещё не клонирован):
    ```bash
    git clone https://github.com/Manabreaker/RandomGraphGenerator.git
    cd RandomGraphGenerator
    ```

3. **Создайте директорию для сборки** и перейдите в неё:
    ```bash
    mkdir build
    cd build
    ```

4. **Соберите проект с помощью CMake**:
    - Для **Linux/Mac**:
      ```bash
      cmake ..
      make
      ```
    - Для **Windows** (с помощью Visual Studio):
      - Откройте CMake GUI.
      - Укажите путь к исходной папке (где находится `CMakeLists.txt`).
      - Укажите папку для сборки.
      - Нажмите "Configure", затем "Generate" и откройте решение в Visual Studio.
      - Соберите проект в Visual Studio.
    - Для **Windiws** (с помощью CLion):
      - Откройте папку как проект CLion.
      - Скомпилируйте программу.

---

## Запуск

Для запуска программы выполните команду в терминале из папки с собранным проектом:
```bash
./RandomGraphGenerator
```

В Windows это будет файл `RandomGraphGenerator.exe`.

---

## Использование

После запуска программы откроется окно, в котором можно будет:

1. **Генерировать граф** с помощью меню:
    - **File -> Generate Graph Params** — откроется диалоговое окно, где можно настроить параметры графа.
    - В диалоге можно выбрать:
      - Диапазон для числа вершин и рёбер.
      - Включение/выключение направления рёбер (направленный или ненаправленный граф).
      - Включение/выключение взвешенности рёбер и вершин.

2. **Перетаскивание вершин**:
    - Вершины графа можно перемещать мышью, зажав левую кнопку мыши.
    - После перемещения вершин рёбра, связанные с вершинами, корректно изменят свои позиции.

3. **Визуализация**:
    - Направленные графы отображаются с **стрелками** на рёбрах, а ненаправленные — без стрелок.
    - Для взвешенных графов отображаются **веса рёбер** (в центре рёбер) и **веса вершин** (над вершинами).

4. **Переключение между графами**:
    - Программа позволяет переключаться между направленным и ненаправленным графами, а также генерировать новые графы с обновлёнными параметрами.

---

## Описание файлов

### `Graph.h` / `Graph.cpp`

Это базовый класс для графов. Он включает основные методы для работы с графом, такие как добавление рёбер, удаление рёбер, получение веса рёбер и т.д.

### `DirectedGraph.h` / `DirectedGraph.cpp`

Класс для **направленных** графов, который наследует `Graph`. Реализует логику для работы с направленными рёбрами.

### `UndirectedGraph.h` / `UndirectedGraph.cpp`

Класс для **ненаправленных** графов, также наследует `Graph`. Отличается от направленного графа тем, что рёбра симметричны, то есть если существует ребро от A к B, то оно существует и от B к A.

### `GraphVisualizer.h` / `GraphVisualizer.cpp`

Этот класс отвечает за визуализацию графов. Он рисует вершины, рёбра и отображает текстовые метки для весов рёбер и вершин. Он также управляет перетаскиванием вершин мышью.

### `main.cpp`

Точка входа в программу, которая создаёт окно и запускает цикл обработки событий, а также управляет созданием графов и их визуализацией.

---

## Технические детали

- **Графы**:
  - Поддерживаются как **направленные**, так и **ненаправленные** графы.
  - Веса рёбер и вершин могут быть добавлены в **взвешенные графы**.
  
- **Визуализация**:
  - Рёбра отображаются в виде линий, а направленные рёбра — с **стрелками**.
  - **Перетаскивание вершин** работает через обработчики мыши: `WM_LBUTTONDOWN`, `WM_MOUSEMOVE`, и `WM_LBUTTONUP`.

- **Параметры графа**:
  - Диапазоны для числа вершин и рёбер задаются в диалоговом окне.
  - Генерация рёбер случайным образом в пределах заданного диапазона.

---

## Пример работы программы

1. После запуска программы появляется окно с графом.
2. Пользователь может выбрать параметры графа через меню.
3. Программа сгенерирует новый граф с выбранными параметрами, и пользователю будет доступна возможность перетаскивать вершины графа.
